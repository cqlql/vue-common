var $=Object.defineProperty;var f=(t,e,n)=>e in t?$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var i=(t,e,n)=>(f(t,typeof e!="symbol"?e+"":e,n),n);class T{constructor({callback:e,time:n=300,immediate:c}={}){i(this,"cb");i(this,"time");i(this,"timeId");i(this,"isStart");this.cb=e||(()=>{}),this.time=n,this.isStart=!1}exec(e=this.cb,n=this.time){this.isStart=!0,clearTimeout(this.timeId),this.timeId=setTimeout(()=>{e(),this.isStart=!1},n)}}function u(t){return t.replace(/[\x5E\x24\x2A\x2B\x3F\x2E\x28\x29\x3A\x3D\x21\x7C\x7B\x7D\x2C\x5C\x5B\x5D]/g,"\\$&")}function _(t){return t=u(t),t=t.trim().replace(/ +/g,"|"),new RegExp(t)}function o(t){const e=document.createElement("div");return e.textContent=t,e.innerHTML}function C(t,e){if(e){e=u(e),e=e.trim().replace(/ +/g,"|");const n=new RegExp(e,"g");return t=t.replace(n,r=>`_$$_${r}_/$$_`),o(t).replace(/_\$\$_(.+?)_\/\$\$_/g,"<b>$1</b>")}return o(t)}class d{constructor(){i(this,"debounce");this.debounce=new T}to(e){let{keyword:n,list:c,getItemText:r,buildItem:l,time:h,cb:m,noMarkKeyword:g}=e;this.debounce.exec(()=>{let x=[];if(n=n.trim(),n){const b=_(n),p=g?s=>s:C;c.forEach(s=>{let a=r(s);b.test(a)&&x.push(l({keyWrodText:p(a,n),rawItem:s}))})}else x=c;m(x)},h)}}export{d as S};
