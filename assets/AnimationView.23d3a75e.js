var f=Object.defineProperty;var v=(i,t,e)=>t in i?f(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var n=(i,t,e)=>(v(i,typeof t!="symbol"?t+"":t,e),e);import{_ as p,d as y,e as c,w as m,o,c as r,b as s,F as w,j as g,t as b,p as T,m as E}from"./index.4f744734.js";class C{constructor({el:t,activeClass:e="",isShow:a=!1}){n(this,"el");n(this,"activeClass","");n(this,"isShow");n(this,"isBind",!1);n(this,"transitionend",()=>{});this.el=t,this.activeClass=e,this.isShow=a}slideDown(){if(this.isShow)return;const{el:t}=this;t.style.display="block",t.style.height="";const e=t.offsetHeight;e!==0&&(t.style.height="0",t.classList.add(this.activeClass),this.bindTransitionend(()=>{t.style.display="block",this.recovery()}),setTimeout(()=>{t.style.height=e+"px",this.isShow=!0},1))}slideUp(){if(this.isShow===!1)return;const{el:t}=this,e=t.offsetHeight;e!==0&&(t.style.height=e+"px",t.classList.add(this.activeClass),this.bindTransitionend(()=>{t.style.display="none",this.recovery()}),setTimeout(()=>{t.style.height="0",this.isShow=!1},1))}recovery(){this.isBind=!1,this.el.style.height="",this.el.classList.remove(this.activeClass),this.unbindTransitionend()}bindTransitionend(t){if(this.transitionend=t,this.isBind)return;this.isBind=!0;const e=()=>{this.transitionend()};this.el.addEventListener("transitionend",e),this.el.addEventListener("webkitTransitionEnd",e),this.unbindTransitionend=()=>{this.el.removeEventListener("transitionend",e),this.el.removeEventListener("webkitTransitionEnd",e)}}unbindTransitionend(){}slideToggle(){this.isShow?this.slideUp():this.slideDown()}}const S="_transition_vjm7w_1";var k={transition:S};const h=i=>(T("data-v-48fec665"),i=i(),E(),i),B=h(()=>s("li",null," \u5F15\u6D41\u94FE\u63A5 ",-1)),L=h(()=>s("li",null," \u6E20\u9053\u6D3B\u7801 ",-1)),x=h(()=>s("li",null," \u9501\u5BA2\u4E8C\u7EF4\u7801 ",-1)),A=y({__name:"AnimationView",setup(i){const t=c(null);let e;m(t,l=>{e=new C({el:l,activeClass:k.transition})});function a(){t.value&&e.slideToggle()}const d=c(0);function _(){d.value+=1}return(l,D)=>(o(),r("div",null,[s("button",{onClick:_},"\u52A0\u4E00\u9879"),s("button",{onClick:a},"\u5C55\u5F00/\u6536\u8D77"),s("div",{class:"list",ref_key:"elRef",ref:t},[s("ul",null,[B,L,x,(o(!0),r(w,null,g(d.value,u=>(o(),r("li",{key:u},b(u),1))),128))])],512)]))}});var V=p(A,[["__scopeId","data-v-48fec665"]]);export{V as default};
