!function(){var t=document.createElement("style");t.innerHTML=".TurntableView_turntable{width:500px;height:500px;background-color:#ddd;border-radius:200%}.TurntableView_turntable img{width:100%;height:100%}\n",document.head.appendChild(t),System.register(["./common-legacy.65ac4849.js","./autoprefix-legacy.92c3b712.js","./index-legacy.75ae5663.js"],(function(t){"use strict";var e,i,s,n,a,r,u,o;return{setters:[function(){},function(t){e=t.a},function(t){i=t.d,s=t.e,n=t.w,a=t.o,r=t.c,u=t.b,o=t.h}],execute:function(){class l{start(t,e,i=400,s=(()=>{})){let n=0,a=i/20,r=this;!function i(){n++,n>=a&&(n=a);let u=!0;switch(t(r.easing(null,n,0,100,a)/100)){case 1:n=0,t=e;break;case 2:u=!1,s()}u&&(r.stopId=requestAnimationFrame(i,20))}()}stop(){cancelAnimationFrame(this.stopId)}easing(t,e,i,s,n){return s*((e=e/n-1)*e*e+1)+i}}let c=e("transform");class h{init({el:t,complete:e,count:i=6,offsetDeg:s=0}){this.animation=new l,this.deg=0,this.targetDeg=0,this.result=0,this.isRun=!1,this.count=i,this.pieDeg=360/this.count,this.maxDeg=360,this.maxSpeed=16,this.time=1600,this.offsetDeg=s,this.rotate=function(e){t.style[c]="rotate3d(0,0,1,"+e+"deg)"},this.complete=e}start(){if(this.isRun)return;let t;this.isRun=!0,this.result=0,this.animation.start((e=>{if(this.deg=(this.deg+this.maxSpeed*e)%this.maxDeg,this.rotate(this.deg),this.result&&1===e)return t=this.deg/this.targetDeg,1}),(e=>{if(this.deg=(t+(1-t)*e)*this.targetDeg,this.rotate(this.deg),1===e)return 2}),this.time,(()=>{this.isRun=!1,this.complete()}))}stop(t){this.result=1,this.targetDeg=t*this.pieDeg+this.offsetDeg+2*this.maxDeg}rotate(){}complete(){}}const g={class:"TurntableView"},d=[u("img",{src:"assets/plate.7a52c3b8.svg"},null,-1)],m=i({name:"VTurntable"}),p=i({...m,props:{wait:null},setup(t){const e=t,i=s(null);let o=new h;function l(){o.start(),e.wait().then((t=>{o.stop(t)}))}function c(){o.stop(1)}return n(i,(()=>{i.value&&o.init({el:i.value,complete(){console.log("结束")}})})),(t,e)=>(a(),r("div",g,[u("p",null,[u("button",{onClick:l},"start"),u("button",{onClick:c},"stop")]),u("div",{ref_key:"ePlate",ref:i,class:"TurntableView_turntable"},d,512)]))}});const f={class:"TurntableView"};t("default",i({__name:"TurntableView",setup(t){async function e(){return await function(t=1){return new Promise((e=>{setTimeout((()=>{e(null)}),t)}))}(1e3),0}return(t,i)=>(a(),r("div",f,[o(p,{wait:e})]))}}))}}}))}();
